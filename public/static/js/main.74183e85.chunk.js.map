{"version":3,"sources":["images/logo_mesto.svg","components/Header.js","contexts/CurrentUserContext.js","images/edit_profile-pic.svg","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","utils/constants.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardClick","link","name","onCardDelete","type","onCardLike","Main","avatar","editProfilePhoto","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","item","length","Footer","PopupWithForm","isOpen","title","action","onSubmit","noValidate","onClose","closeButton","children","deleteButton","submitButton","ImagePopup","api","baseUrl","token","this","fetch","method","headers","authorization","then","res","ok","json","Promise","reject","status","body","JSON","stringify","cardId","methodValue","EditProfilePopup","useState","setName","description","setDescription","useEffect","evt","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","value","onChange","target","required","EditAvatarPopup","inputRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","App","isEditProfilePopupOpen","setPopupProfileState","isAddPlacePopupOpen","setPopupPlaceState","isEditAvatarPopupOpen","setPopupAvatarState","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getCards","getUserInfo","Provider","changeLikeCardStatus","newCard","newCards","c","deleteMyCard","filter","setUserInfo","addNewCard","updateAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.74183e85.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo_mesto.a307e1c4.svg\";","import React from 'react'\nimport logo from '../../src/images/logo_mesto.svg'\n\nfunction Header() {\n  return(\n    <div className=\"header\">\n      <img className=\"logo\" src={logo} alt=\"Логотип\"/>\n    </div>\n  )\n}\n\nexport default Header\n","import React from 'react'\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext\n","export default __webpack_public_path__ + \"static/media/edit_profile-pic.a086f758.svg\";","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `card__delete-button ${isOwn ? '' : 'card__delete-button_hidden'}`\n  );\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n// Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = `${isLiked ? 'card__like card__like_active' : 'card__like'}`;\n\n  function handleCardDelete() {\n    props.onCardDelete(props.card)\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  return (\n    <div className=\"card\">\n      <img onClick={handleClick} src={props.link} className=\"card__photo\" alt={props.name}/>\n      <button onClick={handleCardDelete} className={cardDeleteButtonClassName}></button>\n      <h2 className=\"card__text\">{props.name}</h2>\n      <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n      <p className=\"card__like-counter\">{props.likes}</p>\n    </div>\n  )\n}\nexport default Card;\n","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport editProfilePhoto from '../images/edit_profile-pic.svg';\nimport Card from './Card';\n\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__photo-container\">\n          <img className=\"profile__photo\" src={currentUser.avatar} alt=\"Аватар\"/>\n          <img className=\"profile__photo-edit-button\" src={editProfilePhoto} alt=\"Редактировать.\" onClick={props.onEditAvatar}/>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\n          <button className=\"profile__edit-button\" onClick={props.onEditProfile} type=\"button\"></button>\n          <h2 className=\"profile__subtitle\">{currentUser.about}</h2>\n        </div>\n        <button className=\"profile__add-button\" onClick={props.onAddPlace}></button>\n      </section>\n      <section className=\"cards\">\n        {props.cards.map((item) => (<Card card={item} onCardDelete={props.onCardDelete} onCardLike={props.onCardLike} onCardClick={props.onCardClick} key={item._id} link={item.link} name={item.name} likes={item.likes.length}/>))}\n      </section>\n    </main>\n  )\n}\n\nexport default Main\n","import React from 'react'\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">© 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer\n","import React from 'react'\n\nfunction PopupWithForm(props) {\n\n  return (\n    <div className={ `popup popup-${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className={`popup__container popup__container_${props.name}`}>\n        <h2 className=\"popup__header\">{props.title}</h2>\n        <form className=\"popup__form\" action=\"#\" name=\"popup_form\" onSubmit={props.onSubmit} noValidate>\n          <button type=\"button\" onClick = {props.onClose} className={`popup__close-button ${props.closeButton}`}></button>\n          {props.children}\n          <button type=\"submit\" className={`popup__submit-button ${props.deleteButton}`}>{props.submitButton}</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm\n\n","import React from 'react'\n\nfunction ImagePopup(props) {\n  const isOpen = props.card ? props.card.link && props.card.name : false\n  return (\n    <div className={ `popup popup-zoom ${isOpen ? 'popup_opened' : '' }` }>\n      <div className=\"popup__container_zoom\">\n        <img src={props.card.link} className=\"popup__image_zoom\" alt={props.card.name}/>\n        <button type=\"button\" className=\"popup__close-button popup__close-button_zoom\" onClick = {props.onClose}></button>\n        <p className=\"popup__caption_zoom\">{props.card.name}</p>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup\n","import {baseUrl, token} from './constants'\n\nclass Api {\n  constructor(baseUrl, token) {\n    this.baseUrl = baseUrl;\n    this.token = token;\n  }\n\n  getCards() {\n    return fetch(`${this.baseUrl}cards`, {\n      method: 'GET',\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json',\n      }\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json()}\n        else {\n          return Promise.reject(`Ошибка: ${res.status}`)\n        }\n      })\n  }\n\n  getUserInfo() {\n    return fetch(`${this.baseUrl}users/me`, {\n      method: 'GET',\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json',\n      }\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json()}\n      else {\n        return Promise.reject(`Ошибка: ${res.status}`)\n      }\n    })\n  }\n\n  setUserInfo(name, about) {\n    return fetch(`${this.baseUrl}users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json()}\n      else {\n        return Promise.reject(`Ошибка: ${res.status}`)\n      }\n    })\n  }\n\n  addNewCard(name, link) {\n    return fetch(`${this.baseUrl}cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json()}\n      else {\n        return Promise.reject(`Ошибка: ${res.status}`)\n      }\n    })\n  }\n\n  deleteMyCard(cardId) {\n    return fetch(`${this.baseUrl}cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json',\n      }\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json()}\n      else {\n        return Promise.reject(`Ошибка: ${res.status}`)\n      }\n    })\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    let methodValue;\n    isLiked ? (methodValue = \"DELETE\") : (methodValue = \"PUT\");\n    return fetch(`${this.baseUrl}cards/likes/${cardId}`, {\n      method: methodValue,\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json',\n      }\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json()}\n      else {\n        return Promise.reject(`Ошибка: ${res.status}`)\n      }\n    })\n  }\n\n  updateAvatar(link) {\n    return fetch(`${this.baseUrl}users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        avatar: link\n      })\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json()}\n      else {\n        return Promise.reject(`Ошибка: ${res.status}`)\n      }\n    })\n  }\n\n}\n\nconst api = new Api(baseUrl, token);\n\nexport default api;\n","const baseUrl = \"https://mesto.nomoreparties.co/v1/cohort-16/\";\nconst token = 'ecd5d904-ba49-4381-9016-a76df3cbb46c';\n\nexport {baseUrl, token}\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onUpdateUser({\n      name: name,\n      description: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name = 'profile'\n      title = 'Редактировать профиль'\n      isOpen = {props.isOpen}\n      submitButton = 'Сохранить'\n      onClose = {props.onClose}\n      onSubmit = {handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"name\"\n          id=\"name\"\n          className=\"popup__input popup__input__profile_name\"\n          placeholder=\"Имя\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          value={name}\n          onChange={(evt) => setName(evt.target.value)}\n          required\n        />\n        <p className=\"popup__input-error-message\" id=\"name-error\"></p>\n        <input\n          type=\"text\"\n          name=\"description\"\n          id=\"description\"\n          className=\"popup__input  popup__input_description\"\n          placeholder=\"Описание\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          value={description}\n          onChange={(evt) => setDescription(evt.target.value)}\n          required\n        />\n        <p className=\"popup__input-error-message\" id=\"description-error\"></p>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const inputRef = React.useRef()\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onUpdateAvatar({\n      avatar: inputRef.current.value,\n    });\n  }\n\n  return (\n  <PopupWithForm\n    name = 'userpic'\n    title = 'Обновить аватар'\n    isOpen = {props.isOpen}\n    submitButton = 'Сохранить'\n    onClose = {props.onClose}\n    onSubmit = {handleSubmit}>\n      <input ref={inputRef}\n        type=\"url\"\n        name=\"userpic-url\"\n        id=\"userpic-url\"\n        className=\"popup__input popup__input_url\"\n        placeholder=\"Ссылка на картинку\"\n        required\n      />\n    <p className=\"popup__input-error-message\" id=\"userpic-url-error\"></p>\n  </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = React.useState(''); //я использовала value={name || ''} и подобные этой конструкции по совету наставника,\n  //чтобы избавиться от Warning'а \"A component is changing a controlled input to be uncontrolled\", который появляется в консоли при пустом значении инпута.\n  //Буду рада узнать о более совершенном способе!\n  const [link, setLink] = React.useState('');\n\n  function handleSubmit (evt) {\n    evt.preventDefault();\n    props.onAddPlace({\n      name: name,\n      link: link,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name = 'place'\n      title = 'Новое место'\n      isOpen = {props.isOpen}\n      submitButton = 'Создать'\n      onClose = {props.onClose}\n      onSubmit = {handleSubmit }>\n        <input\n          type=\"text\"\n          name=\"place-name\"\n          id=\"place-name\"\n          className=\"popup__input popup__input_place-name\"\n          placeholder=\"Название\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          value={name}\n          onChange={(evt) => setName(evt.target.value)}\n          required\n        />\n        <p className=\"popup__input-error-message\" id=\"place-name-error\"></p>\n        <input\n          type=\"url\"\n          name=\"place-url\"\n          id=\"place-url\"\n          className=\"popup__input popup__input_url\"\n          placeholder=\"Ссылка на картинку\"\n          value={link}\n          onChange={(evt) => setLink(evt.target.value)}\n          required\n        />\n        <p className=\"popup__input-error-message\" id=\"place-url-error\"></p>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup\n","import React from 'react';\nimport  '../index.css';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\n\nfunction App() {\nconst [isEditProfilePopupOpen, setPopupProfileState] = React.useState(false);\nconst [isAddPlacePopupOpen, setPopupPlaceState] = React.useState(false);\nconst [isEditAvatarPopupOpen, setPopupAvatarState] = React.useState(false);\nconst [selectedCard, setSelectedCard] = React.useState({});\nconst [currentUser, setCurrentUser] = React.useState({});\nconst [cards, setCards] = React.useState([]);\n\nReact.useEffect(()=> {\n  api.getCards()\n  .then((res) => {\n    setCards(res);\n  })\n}, [])\n\nfunction handleCardLike(card) {\n// Снова проверяем, есть ли уже лайк на этой карточке\nconst isLiked = card.likes.some(i => i._id === currentUser._id);\n\n// Отправляем запрос в API и получаем обновлённые данные карточки\napi.changeLikeCardStatus(card._id, isLiked)\n  .then((newCard) => {\n      // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n    const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n    // Обновляем стейт\n    setCards(newCards);\n  });\n}\n\nfunction handleCardDelete(card) {\n  api.deleteMyCard(card._id)\n    .then((newCard) => {\n      const newCards = cards.filter((c) => card._id !== newCard._id);\n      setCards(newCards)\n    })\n}\n\nfunction closeAllPopups() {\n  setPopupProfileState(false);\n  setPopupPlaceState(false);\n  setPopupAvatarState(false);\n  setSelectedCard({});\n}\n\nfunction handleCardClick(card) {\n  setSelectedCard(card);\n}\n\nfunction handleEditProfileClick() {\n  setPopupProfileState(true);\n}\n\nfunction handleAddPlaceClick() {\n  setPopupPlaceState(true)\n}\n\nfunction handleEditAvatarClick() {\n  setPopupAvatarState(true)\n}\n\nfunction handleUpdateUser(props) {\n  api.setUserInfo(props.name, props.description)\n    .then((res) => {\n      setCurrentUser(res)\n    });\n  closeAllPopups()\n}\n\nfunction handleUpdateAvatar(props) {\n  api.updateAvatar(props.avatar)\n    .then((res) => {\n      setCurrentUser(res)\n    });\n  closeAllPopups()\n}\n\nfunction handleAddPlaceSubmit(props) {\n  api.addNewCard(props.name, props.link)\n    .then((newCard) => {\n      setCards([newCard, ...cards]);\n    });\n  closeAllPopups()\n}\n\nReact.useEffect(() => {\n  api.getUserInfo()\n    .then((res) => {\n      setCurrentUser(res)\n    });\n}, [])\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header/>\n        <Main\n          onEditProfile = {handleEditProfileClick}\n          onAddPlace = {handleAddPlaceClick}\n          onEditAvatar = {handleEditAvatarClick}\n          onCardClick = {handleCardClick}\n          onCardLike = {handleCardLike}\n          onCardDelete = {handleCardDelete}\n          cards = {cards}/>\n        <Footer/>\n        <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\n        <AddPlacePopup onAddPlace={handleAddPlaceSubmit} isOpen = {isAddPlacePopupOpen} onClose = {closeAllPopups}/>\n        <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n        <PopupWithForm\n          name = \"delete\"\n          title = 'Вы уверены?'\n          closeButton = 'popup__close-button_delete'\n          deleteButton = 'popup__submit-button_delete'\n          submitButton = 'Да'>\n        </PopupWithForm>\n        <ImagePopup\n          card = {selectedCard}\n          onClose = {closeAllPopups}>\n        </ImagePopup>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from '../src/components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}